{% extends 'myadmin/base.html' %}
{% block main_body %}
<h2>客户列表</h2>
<a href="{% url 'myadmin_customer_add' %}" class="btn btn-success mb-3">添加客户</a>
<table class="table">
    <thead>
      <tr>
        <th>企业代号</th>
        <th>企业名称</th>
        <th>企业类型</th>
        <th>评级</th>
        <th>负责人</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      {% for c in page_obj %}
      <tr>
        <td>{{ c.customers_id }}</td>
        <td>{{ c.company_name }}</td>
        <td>{{ c.area }}</td>
        <td>{{ c.level }}</td>
        <td>{{ c.principal }}</td>
        <td>
          <a href="{% url 'myadmin_customer_edit' c.id %}">编辑</a> |
          <a href="{% url 'myadmin_customer_delete' c.id %}">删除</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  
  <!-- 分页导航 -->
  <div class="pagination">
    <span class="step-links">
      {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; 首页</a>
        <a href="?page={{ page_obj.previous_page_number }}">上一页</a>
      {% endif %}
  
      <span class="current">
        第 {{ page_obj.number }} 页，共 {{ page_obj.paginator.num_pages }} 页
      </span>
  
      {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">下一页</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">尾页 &raquo;</a>
      {% endif %}
    </span>
  </div>
{% endblock %}

